sudo: required

language: cpp

services:
  - docker

before_install:
- docker pull eosio/eos:latest
- docker volume create --name=nodeos-data-volume
- docker volume create --name=keosd-data-volume
- docker-compose -f docker-compose.yaml up -d
- cp config.json.ci config.json
- docker-compose exec nodeosd apt-get update
- docker-compose exec nodeosd apt-get install -y jq bc

script:
- docker-compose exec nodeosd bash -c "cd /opt/app && ./start.sh"